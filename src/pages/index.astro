---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Band from '../components/Band.astro';
import InfosBloc from '../components/InfosBloc.astro';
import {Image} from 'astro:assets';

import fetchApi from "../lib/strapi";
import type Event from "../interfaces/event";

const events = await fetchApi<Event[]>({
    endpoint: 'events?populate=image', // le type de contenu √† r√©cup√©rer
    wrappedByKey: 'data', // la cl√© pour d√©capsuler la r√©ponse
});

import picto1 from '../images/pictos/picto_green1.svg';
import alveoles from '../images/pictos/alveoles.svg';
import team from '../images/qui-sommes-nous.png';
import band from '../images/band/band.png';

import pdf from '../../public/pdf/greenskills.pdf';

import synergieLogo from '../images/logo_support/Logo Synergie Family 1 (1).png';
import Kpi from '../components/Kpi.astro';
import EventCard from '../components/EventCard.astro';
import StepForm from '../components/StepForm.astro';
import Partners from '../components/Partners.astro';

// img events


import event10 from '../images/card_event/les-ateliers-d-accompagnement.jpg'
import event11 from '../images/card_event/recruteur.jpg'


import eventBoostLinkedin from '../images/card_event/atelier-boost-ton-linkedIn.png';
import eventRenovation from '../images/card_event/Focus-M√©tiers--Chef-de-projets-r√©novation-√©nerg√©tique.jpg';
import eventMaritime from '../images/card_event/image (9).png';
import eventRencontre from '../images/card_event/image (10).png';
import eventRebondir from '../images/card_event/rebondir.png';
import eventCollab from '../images/card_event/mieux-communiquer.png'
import eventCv from '../images/card_event/cv.png';



import pictoLight from '../images/pictos/picto_light.svg';
import BlocProgram from '../components/BlocProgram.astro';

import bag from '../images/pictos/bag.svg'
import flash from '../images/pictos/flash.svg'


const list1 = [
    '<span class=" font-finalSixExtraBold">Secteur de l‚Äô√©nergie verte :</span> nouveaux syst√®mes industriels et √©nergies renouvelables (√©olien en mer, hydrog√®ne vert, photovolta√Øque, biogaz & biomasse...)',
    '<span class=" font-finalSixExtraBold">√âconomie circulaire : </span>recyclage, traitement et transformation des d√©chets et prolongation de la dur√©e de vie des d√©chets)'
]



const list2 = [
    '<span class=" font-finalSixExtraBold">Bouches-du-Rh√¥ne :</span> avec un focus sur les bassins d‚Äôemploi de Marseille, √âtang de Berre et Fos/Gardanne',
]

const listProgram = [
    'Ateliers ‚Äú√âco-D√©couverte‚Äù par l\'exp√©rience des m√©tiers verts et √©v√©nements rencontres et forums emploi',
    'Accompagnement personnalis√© des candidats int√©ress√©s',
    'Immersions, d√©couverte des entreprises et de leurs m√©tiers, √©v√©nements de recrutements ludiques',
]

---

<Layout title="Green Skills - Votre partenaire emploi"
        description='Sensibilisation, d√©couverte et orientation des demandeurs d‚Äôemploi vers les nouveaux m√©tiers de la transition √©cologique.'>

    <Header title="Votre partenaire emploi"
            description="Face aux enjeux li√©s √† la transition √©nerg√©tique et aux besoins en main d'≈ìuvre qualifi√©e des entreprises, <strong>Green Skills est un programme de sensibilisation, de d√©couverte et d‚Äôorientation</strong> de demandeurs d‚Äôemploi vers les nouveaux m√©tiers verts."
            href='#step-form' textCta='En savoir plus'/>

    <section id="who-whe-are" class="margin-block relative pb-[var(--blocks-gap)]">
        <Image src={alveoles} alt="image de l'√©quipe" class="absolute bottom-0 right-0 z-0"/>
        <div class="container">
            <h2 class="text-center text-black text-3xl font-finalSixBlack mb-5">Green Skills</h2>
            <h3 class="mb-[var(--blocks-gap-demi)] lg:w-9/12 lg:mx-auto font-finalSixMedium text-2xl text-center"> est
                un programme qui r√©pond aux besoins en recrutement
                sur ces nouveaux m√©tiers en pleine transformation.</h3>
            <div class="content space-y-8 lg:space-y-0 lg:flex lg:items-center lg:gap-14">

                <div class="lg:flex-[2_2_0%] h-[365px]">
                    <Image src={team} alt="image de l'√©quipe"
                           class=" drop-shadow-lg z-10 h-full w-full object-cover object-center rounded-xl"/>
                </div>

                <div class="lg:flex-[5_5_0%] lg:space-y-0 relative z-10">
                    <InfosBloc image={bag}
                               title="Les m√©tiers verts √©ligibles au FTJ Green Skills" list={list1}
                    />
                    <InfosBloc image={flash}
                               title="Notre p√©rim√®tre g√©ographique" list={list2}
                    />
                </div>
            </div>

            <BlocProgram picto={pictoLight} title='Au programme...' list={listProgram}/>
        </div>
    </section>

    <section class="bg-[#F7F7F7] py-[var(--blocks-gap)]">
        <div class="container">
            <h2 class=" text-green text-3xl font-finalSixBlack mb-[var(--blocks-gap-demi)] text-center lg:text-left">Les
                chiffres cl√©s</h2>
            <Kpi/>
        </div>
    </section>

    <section id="needs" class="py-[var(--blocks-gap)] text-center lg:text-left">
        <div class="container">
            <h2 class=" text-black text-3xl font-finalSixBlack mb-[var(--blocks-gap-demi)]">Besoin d'un emploi ou envie
                de recruter ?</h2>

            <div class="lg:flex gap-10">
                <div class="flex-1">
                    <Image src={event11} alt="recruteurs greenskills"
                           class="drop-shadow-lg h-full w-full object-cover object-center rounded-xl"/>
                </div>
                <div class="content space-y-6 mt-6 lg:mt-0 flex-[2.5_2.5_0%]">
                    <p class="font-finalSixBook text-left">üëâ Demandeurs d‚Äôemploi : Contactez l‚Äôun de nos r√©v√©lateurs de
                        talents pour
                        vous accompagner dans votre recherche et d√©couvrir des opportunit√©s dans les m√©tiers verts en
                        pleine croissance.</p>
                    <p class="font-finalSixBook text-left">üëâ Entreprises : Si vous souhaitez vous engager dans la
                        transition √©cologique
                        et recruter des talents, contactez Julien pour construire ensemble des solutions adapt√©es √† vos
                        besoins.</p>
                    <p class="font-finalSixBold text-left">Nous sommes l√† pour connecter les talents et les entreprises
                        au service d‚Äôun avenir durable !</p>

                    <hr class="border-green">

                    <div>
                        <p class="mb-6 text-left font-finalSixBold">üì® Contactez-nous d√®s maintenant !</p>
                        <p class="mb-2 text-left font-finalSixBook"><span
                                class="font-finalSixBold">Contact talent</span> : Sarhaline - <a
                                class="underline text-green" href="tel:0625604375">0625604375</a> / Ledhia - <a
                                class="underline text-green" href="tel:0769164228">0769164228</a></p>
                        <p class="text-left font-finalSixBook"><span class="font-finalSixBold">Contact entreprise</span>
                            : Julien - <a class="underline text-green" href="tel:0776119949">0776119949</a> / M√©lanie -
                            <a class="underline text-green" href="tel:0777382360">0777382360</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <StepForm/>


    <!--container lg:flex lg:items-center lg:gap-20 space-y-8 lg:space-y-0 pb-[var(&#45;&#45;blocks-gap)]-->
    <section id="event" class="margin-block container relative">
        <div class="cursor-pointer btn-next absolute right-0 top-[50%] bottom-[50%] translate-x-[100%]">
            <svg class="btn-navigation-slider hover:text-white hover:bg-green p-2 border-[2px] border-green rounded-full"
                 width="50px" height="50px" stroke-width="2" viewBox="0 0 24 24" fill="none"
                 xmlns="http://www.w3.org/2000/svg" color="#00bf63">
                <path d="M9 6L15 12L9 18" stroke="#00bf63" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round"></path>
            </svg>
        </div>
        <div class="cursor-pointer btn-prev rotate-180 absolute left-0 top-[50%] bottom-[50%] translate-x-[-100%]">
            <svg class="btn-navigation-slider hover:text-white hover:bg-green p-2 border-[2px] border-green rounded-full"
                 width="50px" height="50px" stroke-width="2" viewBox="0 0 24 24" fill="none"
                 xmlns="http://www.w3.org/2000/svg" color="#00bf63">
                <path d="M9 6L15 12L9 18" stroke="#00bf63" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round"></path>
            </svg>
        </div>
        <h2 class="text-center text-black text-3xl font-finalSixBlack">Nos √©v√©nements</h2>
        <div class="swiper">
            <div class="swiper-wrapper pt-[var(--blocks-gap-demi)] pb-[var(--blocks-gap)] pr-5">
                {
                    events.map((event) => (
                            <div class="swiper-slide">
                                <EventCard
                                        link={event.ctaLink}
                                        image={event.image}
                                        date={event.dateBegin}
                                        name={event.title}
                                        place={event.place}
                                        description={event.description}
                                        delay="300"/>
                            </div>
                    ))
                }

            </div>
            <div class="swiper-pagination !bottom-[5%]"></div>
        </div>
    </section>

    <Band pdf={pdf} title="Envie d\'en savoir plus ?" btnText='T√©l√©charger la plaquette' bgImage={band}/>

    <section id="support" class="margin-block overflow-hidden">
        <div>
            <h2 class="text-center text-black text-3xl font-finalSixBlack mb-[var(--blocks-gap-demi)] container">Projet
                port√© et soutenu par</h2>
            <Partners/>
        </div>
    </section>

</Layout>

<script>
    import Swiper from 'swiper';
    import {Navigation, Pagination} from 'swiper/modules';
    import 'swiper/css';
    import 'swiper/css/pagination';

    const swiper = new Swiper('.swiper', {
        // Optional parameters
        modules: [Navigation, Pagination],
        slidesPerView: 1.2,
        spaceBetween: 40,
        breakpoints: {
            768: {
                slidesPerView: 2,
                spaceBetween: 20,
            },
            1024: {
                slidesPerView: 3,
                spaceBetween: 80,
            }
        },

        // Navigation arrows
        navigation: {
            nextEl: '.btn-next',
            prevEl: '.btn-prev',
        },

        pagination: {
            el: '.swiper-pagination',
        },

    });

</script>




